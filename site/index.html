<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Grafito: Your friendly, self-hosted Systemd Journal Log Viewer. Effortlessly navigate, filter, and understand your system logs."
    />
    <meta name="color-scheme" content="light dark" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Chivo&family=Noto+Emoji&display=swap" rel="stylesheet">

    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <title>Grafito - Friendly Systemd Journal Log Viewer</title>
    <style>
      html,
      h1,
      h2,
      body {
        font-family: "Chivo", "sans";
      }
      .grafito-title {
        font-weight: normal;
        font-size: 4rem;
        text-align: center;
        margin-bottom: 0.5rem;
      }
      .grafito-title a {
        text-decoration: none;
        color: inherit;
      }
      .subtitle {
        text-align: center;
        font-size: 1.2rem;
        color: var(--pico-muted-color);
        margin-bottom: 2rem;
      }
      .hero {
        text-align: center;
        padding: 0 1rem 3rem 1rem;
        margin-top: 0;
      }
      .hero img {
        max-width: 150px;
        margin-bottom: 1rem;
      }
      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
        margin-bottom: 3rem;
      }
      .feature-card {
        border: 1px solid var(--pico-card-border-color);
        border-radius: var(--pico-border-radius);
        padding: 1.5rem;
        background-color: var(--pico-card-background-color);
      }
      .feature-card hgroup {
        margin-bottom: 1rem;
      }
      .feature-card h2 {
        margin-bottom: 0.5rem;
      }
      .feature-card p {
        color: var(--pico-secondary);
        font-size: 0.95rem;
      }
      .feature-icon {
        margin-right: 0.5rem;
      }
      .cta-section {
        text-align: center;
        padding: 2rem 0;
      }
      .theme-switch-wrapper-footer {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        padding-top: 1rem;
      }
      .theme-switch-wrapper-footer label {
        margin-bottom: 0;
      }
      nav ul:last-child {
        /* Target the right-side UL in the nav */
        display: flex;
        align-items: center; /* Vertically align items */
      }
      footer.container {
        text-align: center;
      }
      .emoji {
        font-family: "Noto Emoji", sans-serif;
      }
      .cta-button-large {
        font-size: 1.1rem;
        padding: 0.75rem 1.5rem;
      }
      .theme-switch-wrapper-nav {
        padding-top: 0 !important; /* Ensure override if needed */
      }
      .screenshot {
        display: block;
        max-width: 100%;
        margin: 2rem auto; /* Centered with top/bottom margin */
        border-radius: var(--pico-border-radius);
      }
    </style>
  </head>
  <body>
    <nav class="container-fluid">
      <ul></ul>
      <ul>
        <li>
          <div class="theme-switch-wrapper-footer theme-switch-wrapper-nav">
            <label for="theme-switch" title="Toggle light/dark mode">
              <span class="emoji">üåû</span
              ><input
                type="checkbox"
                id="theme-switch"
                name="theme"
                role="switch"
              /><span class="emoji">üåí</span>
            </label>
          </div>
        </li>
      </ul>
    </nav>

    <main class="container">
      <section class="hero">
        <h1 class="grafito-title">
          <a href="https://github.com/ralsina/grafito" target="_blank"
            >Grafito</a
          >
        </h1>
        <p class="subtitle">
          Your friendly, self-hosted Systemd Journal Log Viewer.
        </p>
        <p>
          Effortlessly navigate, filter, and understand your system logs with a
          clean, web-based interface. <br />No more complex terminal commands
          for everyday log viewing!
        </p>
        <div role="group">
          <a
            href="https://github.com/ralsina/grafito"
            target="_blank"
            role="button"
            >Get Grafito on GitHub</a
          >&nbsp;<a
            href="https://grafito-demo.ralsina.me"
            target="_blank"
            role="button"
            >View Demo Site</a
          >
        </div>
      </section>

      <section id="features">
        <div class="features-grid">
          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">üîç</span>Powerful Filtering
            </h2>
            <p>
              Quickly find what you need. Search by text, systemd unit, syslog
              tag, time range (e.g., "last 15 min", "last week"), and log
              priority. Filters update dynamically as you type! Detail and
              context views!
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">üì∫</span>Live Log Streaming
            </h2>
            <p>
              Monitor logs in real-time with the "Live View" feature. See new
              entries appear automatically without manual refreshes, perfect for
              active troubleshooting.
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">‚ùî</span>Understand Your Commands
            </h2>
            <p>
              Curious about the underlying `journalctl` magic? Grafito shows you
              the equivalent terminal command for your currently active filters.
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">üîó</span>Shareable & Bookmarkable
              Views
            </h2>
            <p>
              Easily copy a URL that includes all your current filter settings.
              Share it with colleagues or bookmark it for quick access to common
              log views.
            </p>
          </article>

          <article class="feature-card">
            <h2><span class="feature-icon emoji">üíæ</span>Export Logs</h2>
            <p>
              Need logs offline? Download your filtered log entries as a plain
              text file for archiving, sharing, or further analysis in other
              tools.
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">üè†</span>Self-Hosted & Secure
            </h2>
            <p>
              Grafito runs on your own server. Your log data stays private and
              under your control. Ideal for individuals and teams who prioritize
              data security.
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">‚ö°</span>Lightweight & Responsive
            </h2>
            <p>
              Built with Crystal and HTMX, Grafito is designed to be fast and
              efficient, providing a smooth user experience even with many log
              entries. Since it's not <b>a lot</b> of code, you can
              <a href="src/main.cr.html">read the explained source code!</a>
            </p>
          </article>

          <article class="feature-card">
            <h2>
              <span class="feature-icon emoji">üé®</span>Clean & Intuitive UI
            </h2>
            <p>
              A modern, clutter-free interface styled with PicoCSS. Supports
              both light and dark modes to match your preference and reduce eye
              strain.
            </p>
          </article>
        </div>

        <!-- Quick Install Card - Moved outside the grid to be full-width -->
        <article class="feature-card" style="margin-top: 2rem;"> <!-- Added margin-top for spacing -->
            <h2>
              <span class="feature-icon emoji">üöÄ</span>Quick Install
            </h2>
            <p>
              Get started quickly on Linux (with systemd). Use our simple
              install script to download the correct binary, place it in
              <code>/usr/local/bin</code>, and set up a systemd service (or follow any of the possible
              <a href="https://github.com/ralsina/grafito">installation instructions</a>).
            </p>
            <pre
              style="
                background-color: var(--pico-form-element-background-color);
                border: 1px solid var(--pico-form-element-border-color);
                padding: 0.5em; /* Slightly smaller padding for card */
                border-radius: var(--pico-border-radius);
                overflow-x: auto; margin-top: 0.5rem; font-size: 0.85em;
              "
            ><code>curl -sSL https://grafito.ralsina.me/install.sh | sudo bash</code></pre>
          </article>

          <!-- End Quick Install Card -->

        <div class="features-grid">

        </div>
      </section>

      <section class="cta-section">
        <h2>Ready to Simplify Your Log Viewing?</h2>
        <p>
          Grafito is open-source and easy to set up.
          Explore the full source code and other installation methods on GitHub:
        </p><a
          href="https://github.com/ralsina/grafito"
          target="_blank"
          role="button"
          class="contrast cta-button-large"
        >
          View on GitHub & Get Started
        </a>
      </section>
    </main>

    <footer class="container">
      <hr />
      <p>
        <a href="https://links.ralsina.me" target="_blank"
          ><span class="emoji">üèÉ</span> Roberto Alsina</a
        >
        <span>|||</span>
        <a href="https://github.com/ralsina/grafito" target="_blank"
          >Grafito Project <span class="emoji">üñ•Ô∏é</span></a
        >
      </p>
    </footer>

    <script>
      // --- THEME SWITCHER LOGIC ---
      document.addEventListener("DOMContentLoaded", function () {
        const themeSwitch = document.getElementById("theme-switch");
        const htmlElement = document.documentElement;

        function applyTheme(theme) {
          if (theme === "dark") {
            htmlElement.setAttribute("data-theme", "dark");
            if (themeSwitch) themeSwitch.checked = true;
          } else {
            htmlElement.setAttribute("data-theme", "light");
            if (themeSwitch) themeSwitch.checked = false;
          }
          localStorage.setItem("theme", theme);
        }

        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
          applyTheme(savedTheme);
        } else if (
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
        ) {
          applyTheme("dark");
        } else {
          applyTheme("light"); // Default
        }

        if (themeSwitch) {
          themeSwitch.addEventListener("change", function () {
            applyTheme(this.checked ? "dark" : "light");
          });
        }
      });
    </script>
  </body>
</html>
